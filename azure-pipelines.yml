trigger:
- master
- feature/*
pr:
- master

jobs:
- job: windows
  displayName: 'Windows'
  pool:
    vmImage: 'VS2017-Win2016'

  strategy:
    maxParallel: 10
    matrix:
      Win32_Release:
        BuildPlatform: 'Win32'
        Configuration: 'Release'
      Win32_Debug:
        BuildPlatform: 'Win32'
        Configuration: 'Debug'
      Win64_Release:
        BuildPlatform: 'x64'
        Configuration: 'Release'
      Win64_Debug:
        BuildPlatform: 'x64'
        Configuration: 'Debug'

  steps:
  - script: echo $(BuildPlatform) $(Configuration)
    displayName: 'Test'
  - script: timeout 5
    displayName: 'timeout 1'
  - script: timeout 5
    displayName: 'timeout 2'
  - script: timeout 5
    displayName: 'timeout 3'
  - script: timeout 5
    displayName: 'timeout 4'
  - script: timeout 5
    displayName: 'timeout 5'
  - script: timeout 5
    displayName: 'timeout 6'
